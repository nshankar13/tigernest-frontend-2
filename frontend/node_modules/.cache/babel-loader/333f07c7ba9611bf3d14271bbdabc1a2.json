{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime-corejs2/regenerator\";\nimport _JSON$stringify from \"@babel/runtime-corejs2/core-js/json/stringify\";\nimport _parseInt from \"@babel/runtime-corejs2/core-js/parse-int\";\nimport _asyncToGenerator from \"@babel/runtime-corejs2/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"@babel/runtime-corejs2/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime-corejs2/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime-corejs2/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime-corejs2/helpers/esm/getPrototypeOf\";\nimport _assertThisInitialized from \"@babel/runtime-corejs2/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime-corejs2/helpers/esm/inherits\";\nimport _defineProperty from \"@babel/runtime-corejs2/helpers/esm/defineProperty\";\nimport _JSXStyle from \"styled-jsx/style\";\nimport './bootstrap.css';\nimport React from 'react';\nimport Link from 'next/link';\nimport Head from '../components/head';\nimport HostNav from '../components/hostNav';\nimport fetch from 'isomorphic-unfetch';\nimport { Button, Modal, ModalHeader, ModalBody, ModalFooter, Row, Col, Input, Form, FormText, CustomInput } from 'reactstrap';\nimport { Card, CardImg, CardText, CardBody, CardTitle, CardSubtitle, CardDeck, FormGroup, Label, Table } from 'reactstrap';\nimport ReactFileReader from 'react-file-reader';\nimport Cookies from 'js-cookie';\nimport Router from 'next/router';\nvar divStyle = {\n  color: 'white' //color: 'dodgerblue'\n\n};\n\nvar eventListHost =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(eventListHost, _React$Component);\n\n  function eventListHost(props, context) {\n    var _this;\n\n    _classCallCheck(this, eventListHost);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(eventListHost).call(this, props, context));\n\n    _defineProperty(_assertThisInitialized(_this), \"handleFiles\", function (files) {\n      var reader = new FileReader();\n      var result = [];\n\n      reader.onload = function (e) {\n        // Use reader.result\n        result = reader.result.split(\",\");\n        alert(result[0]);\n      };\n\n      _this.setState(function (state) {\n        return {\n          visitorEmails: result\n        };\n      });\n\n      reader.readAsText(files[0]);\n    });\n\n    _this.state = {\n      modal: false,\n      dropEventModal: false,\n      addHostModal: false,\n      visitorEmails: [],\n      current_pairing: -1,\n      eventList: [],\n      current_event: {\n        name: \"\",\n        start_time: \"\",\n        end_time: \"\",\n        description: \"\",\n        hosting_organization: \"\",\n        expected_number_visitors: \"\",\n        event_id: \"\"\n      }\n    };\n    _this.addHostToggle = _this.addHostToggle.bind(_assertThisInitialized(_this));\n    _this.addHost = _this.addHost.bind(_assertThisInitialized(_this));\n    _this.editEvent = _this.editEvent.bind(_assertThisInitialized(_this));\n    _this.handleFiles = _this.handleFiles.bind(_assertThisInitialized(_this));\n    _this.dropEventToggle = _this.dropEventToggle.bind(_assertThisInitialized(_this));\n    _this.dropEvent = _this.dropEvent.bind(_assertThisInitialized(_this));\n    _this.filterEvents = _this.filterEvents.bind(_assertThisInitialized(_this));\n    return _this;\n  }\n\n  _createClass(eventListHost, [{\n    key: \"editEvent\",\n    value: function () {\n      var _editEvent = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee() {\n        var eventInfo, res;\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                console.log(this.state.visitorEmails);\n                eventInfo = {\n                  \"name\": document.forms[\"eventEditForm\"][\"eventname\"].value,\n                  \"start_time\": document.forms[\"eventEditForm\"][\"starttime\"].value,\n                  \"start_date\": document.forms[\"eventEditForm\"][\"startdate\"].value,\n                  \"end_time\": document.forms[\"eventEditForm\"][\"endtime\"].value,\n                  \"end_date\": document.forms[\"eventEditForm\"][\"enddate\"].value,\n                  \"description\": document.forms[\"eventEditForm\"][\"description\"].value,\n                  \"location\": document.forms[\"eventEditForm\"][\"location\"].value,\n                  \"expected_number_visitors\": _parseInt(document.forms[\"eventEditForm\"][\"expectednum\"].value),\n                  \"number_of_hosts\": 0,\n                  \"hosts\": \"\",\n                  \"hosting_organization\": document.forms[\"eventEditForm\"][\"hostingorg\"].value,\n                  \"organizer_id\": 1\n                };\n                _context.next = 4;\n                return fetch('http://localhost:5000/event/update/' + this.state.current_event.event_id, {\n                  method: \"POST\",\n                  headers: {\n                    'Accept': 'application/json',\n                    \"Content-Type\": \"application/json\"\n                  },\n                  body: _JSON$stringify(eventInfo)\n                });\n\n              case 4:\n                res = _context.sent;\n                this.editModalToggle();\n\n              case 6:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function editEvent() {\n        return _editEvent.apply(this, arguments);\n      }\n\n      return editEvent;\n    }()\n  }, {\n    key: \"dropEventToggle\",\n    value: function () {\n      var _dropEventToggle = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee2(event) {\n        var val, res, data;\n        return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                if (this.state.dropEventModal) {\n                  _context2.next = 11;\n                  break;\n                }\n\n                val = event.target.value;\n                _context2.next = 4;\n                return fetch('http://localhost:5000/pairing/' + val, {\n                  method: \"GET\",\n                  headers: {\n                    \"Content-Type\": \"text/plain\",\n                    \"Access-Control-Allow-Origin\": \"*\"\n                  }\n                });\n\n              case 4:\n                res = _context2.sent;\n                _context2.next = 7;\n                return res.json();\n\n              case 7:\n                data = _context2.sent;\n                data = _JSON$stringify(data);\n                data = JSON.parse(data);\n                this.setState(function (state) {\n                  return {\n                    current_pairing: data\n                  };\n                });\n\n              case 11:\n                //console.log(data);\n                this.setState(function (prevState) {\n                  return {\n                    dropEventModal: !prevState.dropEventModal\n                  };\n                });\n\n              case 12:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this);\n      }));\n\n      function dropEventToggle(_x) {\n        return _dropEventToggle.apply(this, arguments);\n      }\n\n      return dropEventToggle;\n    }()\n  }, {\n    key: \"addHostToggle\",\n    value: function () {\n      var _addHostToggle = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee3(event) {\n        var val, res, data;\n        return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                this.setState(function (state) {\n                  return {\n                    visitorEmails: \"\"\n                  };\n                }); //this.setState(state => ({ current_event: event.target.value}));\n\n                if (this.state.addHostModal) {\n                  _context3.next = 12;\n                  break;\n                }\n\n                val = event.target.value;\n                _context3.next = 5;\n                return fetch('http://localhost:5000/pairing/' + val, {\n                  method: \"GET\",\n                  headers: {\n                    \"Content-Type\": \"text/plain\",\n                    \"Access-Control-Allow-Origin\": \"*\"\n                  }\n                });\n\n              case 5:\n                res = _context3.sent;\n                _context3.next = 8;\n                return res.json();\n\n              case 8:\n                data = _context3.sent;\n                data = _JSON$stringify(data);\n                data = JSON.parse(data);\n                this.setState(function (state) {\n                  return {\n                    current_pairing: data\n                  };\n                });\n\n              case 12:\n                //console.log(data);\n                this.setState(function (prevState) {\n                  return {\n                    addHostModal: !prevState.addHostModal\n                  };\n                });\n\n              case 13:\n              case \"end\":\n                return _context3.stop();\n            }\n          }\n        }, _callee3, this);\n      }));\n\n      function addHostToggle(_x2) {\n        return _addHostToggle.apply(this, arguments);\n      }\n\n      return addHostToggle;\n    }()\n  }, {\n    key: \"dropEvent\",\n    value: function () {\n      var _dropEvent = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee4() {\n        var res;\n        return _regeneratorRuntime.wrap(function _callee4$(_context4) {\n          while (1) {\n            switch (_context4.prev = _context4.next) {\n              case 0:\n                _context4.next = 2;\n                return fetch('http://localhost:5000/pairing/delete/' + this.state.current_pairing.pairing_id, {\n                  method: \"DELETE\",\n                  headers: {\n                    'Accept': 'application/json',\n                    \"Content-Type\": \"application/json\"\n                  }\n                });\n\n              case 2:\n                res = _context4.sent;\n                this.dropEventToggle();\n\n              case 4:\n              case \"end\":\n                return _context4.stop();\n            }\n          }\n        }, _callee4, this);\n      }));\n\n      function dropEvent() {\n        return _dropEvent.apply(this, arguments);\n      }\n\n      return dropEvent;\n    }()\n  }, {\n    key: \"addHost\",\n    value: function () {\n      var _addHost = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee5() {\n        var genderVal, same_gender, pairingInfo, res;\n        return _regeneratorRuntime.wrap(function _callee5$(_context5) {\n          while (1) {\n            switch (_context5.prev = _context5.next) {\n              case 0:\n                //let name = document.forms[\"eventCreateForm\"][\"eventname\"].value;\n                //console.log(name)\n                genderVal = document.forms[\"hostSignupForm\"][\"radio1\"].value;\n                same_gender = genderVal === \"Yes\" ? true : false; //console.log(this.state.visitorEmails)\n\n                pairingInfo = {\n                  \"host_first_name\": document.forms[\"hostSignupForm\"][\"firstname\"].value,\n                  \"host_last_name\": document.forms[\"hostSignupForm\"][\"lastname\"].value,\n                  \"host_gender\": document.forms[\"hostSignupForm\"][\"radio2\"].value,\n                  \"same_gender_room\": same_gender,\n                  \"host_room_num\": document.forms[\"hostSignupForm\"][\"roomnum\"].value,\n                  \"max_visitors\": document.forms[\"hostSignupForm\"][\"maxvisitors\"].value,\n                  \"host_cellphone\": document.forms[\"hostSignupForm\"][\"cellnum\"].value,\n                  \"event_id\": this.state.current_event.event_id\n                };\n                _context5.next = 5;\n                return fetch('http://localhost:5000/pairing/update/' + this.state.current_pairing.pairing_id, {\n                  method: \"POST\",\n                  headers: {\n                    'Accept': 'application/json',\n                    \"Content-Type\": \"application/json\"\n                  },\n                  body: _JSON$stringify(pairingInfo)\n                });\n\n              case 5:\n                res = _context5.sent;\n                this.addHostToggle();\n\n              case 7:\n              case \"end\":\n                return _context5.stop();\n            }\n          }\n        }, _callee5, this);\n      }));\n\n      function addHost() {\n        return _addHost.apply(this, arguments);\n      }\n\n      return addHost;\n    }()\n  }, {\n    key: \"toggle\",\n    value: function toggle() {\n      this.setState(function (prevState) {\n        return {\n          modal: !prevState.modal\n        };\n      });\n      if (!this.state.modal) this.setState(function (state) {\n        return {\n          visitorEmails: \"\"\n        };\n      });\n    }\n  }, {\n    key: \"filterEvents\",\n    value: function () {\n      var _filterEvents = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee6() {\n        var netid, res, data, events, i;\n        return _regeneratorRuntime.wrap(function _callee6$(_context6) {\n          while (1) {\n            switch (_context6.prev = _context6.next) {\n              case 0:\n                netid = String(Cookies.get('netid'));\n                _context6.next = 3;\n                return fetch('http://localhost:5000/pairing/events_for_host/' + netid, {\n                  method: \"GET\",\n                  headers: {\n                    \"Content-Type\": \"text/plain\",\n                    \"Access-Control-Allow-Origin\": \"*\"\n                  }\n                });\n\n              case 3:\n                res = _context6.sent;\n                _context6.next = 6;\n                return res.json();\n\n              case 6:\n                data = _context6.sent;\n                data = _JSON$stringify(data);\n                data = JSON.parse(data);\n                events = [];\n\n                for (i = 0; i < data.length; i++) {\n                  /*descriptions.push(data[i]['description']);\n                  end_dates.push(data[i]['end_dates'])\n                  end_times.push(data[i]['end_times'])\n                  expected_number_visitors.push(data[i]['expected_number_visitors'])\n                  hosting_organizations.push(data[i]['hosting_organizations'])\n                  locations.push(data[i]['locations'])\n                  names.push(data[i]['names'])\n                  number_of_hosts.push(data[i]['number_of_hosts'])\n                  start_dates.push(data[i]['start_date'])\n                  start_times.push(data[i]['start_time'])*/\n                  events.push(_JSON$stringify(data[i]));\n                } //console.log(events)\n\n\n                this.setState({\n                  eventList: events\n                });\n\n              case 12:\n              case \"end\":\n                return _context6.stop();\n            }\n          }\n        }, _callee6, this);\n      }));\n\n      function filterEvents() {\n        return _filterEvents.apply(this, arguments);\n      }\n\n      return filterEvents;\n    }()\n  }, {\n    key: \"render\",\n    value: function render(props) {\n      /*this.setState({\n          eventList: this.filterEvents()\n        }); */\n      //this.filterEvents();\n      return React.createElement(\"div\", {\n        className: \"jsx-2702436898\"\n      }, React.createElement(Head, {\n        title: \"Host Events\"\n      }), React.createElement(HostNav, null), React.createElement(\"div\", {\n        className: \"jsx-2702436898\" + \" \" + \"hero\"\n      }, React.createElement(\"center\", {\n        className: \"jsx-2702436898\"\n      }, \" \", React.createElement(\"h2\", {\n        style: divStyle,\n        className: \"jsx-2702436898\"\n      }, \" Your Events\"), \" \"), React.createElement(\"br\", {\n        className: \"jsx-2702436898\"\n      }), this.filterEvents(), React.createElement(Modal, {\n        key: \"1\",\n        isOpen: this.state.addHostModal,\n        toggle: this.addHostToggle,\n        className: this.props.className\n      }, React.createElement(ModalHeader, {\n        toggle: this.addHostToggle\n      }, \" \", React.createElement(\"p\", {\n        className: \"jsx-2702436898\" + \" \" + \"text-primary\"\n      }, \" Edit Information for \", this.state.current_pairing.event_name, \" \"), \" \"), React.createElement(ModalBody, null, React.createElement(Form, {\n        id: \"hostSignupForm\"\n      }, React.createElement(Row, null, React.createElement(Col, null, \"First Name\"), React.createElement(Col, null, React.createElement(Input, {\n        type: \"text\",\n        name: \"firstname\",\n        id: \"firstname\",\n        defaultValue: this.state.current_pairing.host_first_name\n      }))), React.createElement(\"br\", {\n        className: \"jsx-2702436898\"\n      }), React.createElement(Row, null, React.createElement(Col, null, \"Last Name\"), React.createElement(Col, null, React.createElement(Input, {\n        type: \"text\",\n        name: \"lastname\",\n        id: \"lastname\",\n        defaultValue: this.state.current_pairing.host_last_name\n      }))), React.createElement(\"br\", {\n        className: \"jsx-2702436898\"\n      }), React.createElement(Row, null, React.createElement(Col, null, \"Room Number\"), React.createElement(Col, null, React.createElement(Input, {\n        type: \"text\",\n        name: \"roomnum\",\n        id: \"roomnum\",\n        defaultValue: this.state.current_pairing.host_room_num\n      }))), React.createElement(\"br\", {\n        className: \"jsx-2702436898\"\n      }), React.createElement(Row, null, React.createElement(Col, null, \"Cellphone Number:\"), React.createElement(Col, null, React.createElement(Input, {\n        type: \"text\",\n        name: \"cellnum\",\n        id: \"cellnum\",\n        defaultValue: this.state.current_pairing.host_cellphone\n      }))), React.createElement(\"br\", {\n        className: \"jsx-2702436898\"\n      }), React.createElement(Row, null, React.createElement(Col, null, \"Max Number of Visitors:\"), React.createElement(Col, null, React.createElement(Input, {\n        type: \"text\",\n        name: \"maxvisitors\",\n        id: \"maxvisitors\",\n        defaultValue: this.state.current_pairing.max_visitors\n      }))), React.createElement(\"br\", {\n        className: \"jsx-2702436898\"\n      }), React.createElement(Row, null, React.createElement(Col, null, \" Gender \"), React.createElement(Col, null, React.createElement(FormGroup, {\n        check: true\n      }, React.createElement(Label, {\n        check: true\n      }, React.createElement(Input, {\n        type: \"radio\",\n        name: \"radio2\",\n        id: \"radio2\",\n        value: \"Male\"\n      }), ' ', \"Male\")), React.createElement(FormGroup, {\n        check: true\n      }, React.createElement(Label, {\n        check: true\n      }, React.createElement(Input, {\n        type: \"radio\",\n        name: \"radio2\",\n        id: \"radio2\",\n        value: \"Female\"\n      }), ' ', \"Female\")))), React.createElement(\"br\", {\n        className: \"jsx-2702436898\"\n      }), React.createElement(Row, null, React.createElement(Col, null, \" Opposite Gender Visitors\"), React.createElement(Col, null, React.createElement(FormGroup, {\n        check: true\n      }, React.createElement(Label, {\n        check: true\n      }, React.createElement(Input, {\n        type: \"radio\",\n        name: \"radio1\",\n        id: \"radio1\",\n        value: \"yes\"\n      }), ' ', \"Yes\")), React.createElement(FormGroup, {\n        check: true\n      }, React.createElement(Label, {\n        check: true\n      }, React.createElement(Input, {\n        type: \"radio\",\n        name: \"radio1\",\n        id: \"radio1\",\n        value: \"no\"\n      }), ' ', \"No\")))), React.createElement(\"br\", {\n        className: \"jsx-2702436898\"\n      }))), React.createElement(ModalFooter, null, React.createElement(Button, {\n        color: \"primary\",\n        onClick: this.addHost\n      }, \" Update Info \"), ' ', React.createElement(Button, {\n        color: \"secondary\",\n        onClick: this.addHostToggle\n      }, \"Cancel\"))), React.createElement(Modal, {\n        key: \"2\",\n        isOpen: this.state.dropEventModal,\n        toggle: this.dropEventToggle,\n        className: this.props.className\n      }, React.createElement(ModalHeader, {\n        toggle: this.dropEventToggle\n      }, \" \", React.createElement(\"p\", {\n        className: \"jsx-2702436898\" + \" \" + \"text-danger\"\n      }, \" Drop \", this.state.current_pairing.event_name, \" \"), \" \"), React.createElement(ModalBody, null, \"Are you sure you want to drop out of this event?\"), React.createElement(ModalFooter, null, React.createElement(Button, {\n        color: \"danger\",\n        onClick: this.dropEvent\n      }, \" Drop Event\"), ' ', React.createElement(Button, {\n        color: \"secondary\",\n        onClick: this.dropEventToggle\n      }, \"Cancel\")))), React.createElement(_JSXStyle, {\n        id: \"2702436898\"\n      }, \".hero.jsx-2702436898{width:100%;color:#333;}.title.jsx-2702436898{margin:0;width:100%;padding-top:80px;line-height:1.15;font-size:48px;}.title.jsx-2702436898,.description.jsx-2702436898{text-align:center;}.row.jsx-2702436898{max-width:880px;margin:80px auto 40px;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-box-pack:space-around;-webkit-justify-content:space-around;-ms-flex-pack:space-around;justify-content:space-around;}.card.jsx-2702436898{padding:30px 30px 30px;width:300px;text-align:left;-webkit-text-decoration:none;text-decoration:none;color:#434343;border:1px solid #9b9b9b;}.card.jsx-2702436898:hover{border-color:#067df7;}.card.jsx-2702436898 h3.jsx-2702436898{margin:0;color:#067df7;font-size:18px;}.card.jsx-2702436898 p.jsx-2702436898{margin:0;padding:12px 0 0;font-size:13px;color:#333;}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9uc2hhbmthcjEzL0RvY3VtZW50cy9naXRodWIvVGlnZXJOZXN0Mi9UaWdlck5lc3QvZnJvbnRlbmQvcGFnZXMvaG9zdE15RXZlbnRzLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQXFkWSxBQUdvQixBQUlGLEFBUVMsQUFHRixBQU9PLEFBUUYsQUFHWixBQUtBLFNBakNFLEFBNkJHLEFBS0csRUF0Q04sS0FlVyxFQUh4QixFQVBtQixDQXlCbkIsQ0E3QkEsQ0FxQmMsQUFZRyxHQUtBLFNBaEJDLEVBakJDLENBVUosQUFtQmYsR0FLYSxVQWhCVSxDQWlCdkIsRUFsQ2lCLGVBQ2pCLGdDQWlCZ0IsV0FSSyxHQVNNLHlCQUMzQix5Q0FUK0IsMkhBQy9CIiwiZmlsZSI6Ii9Vc2Vycy9uc2hhbmthcjEzL0RvY3VtZW50cy9naXRodWIvVGlnZXJOZXN0Mi9UaWdlck5lc3QvZnJvbnRlbmQvcGFnZXMvaG9zdE15RXZlbnRzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0ICcuL2Jvb3RzdHJhcC5jc3MnO1xuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0J1xuaW1wb3J0IExpbmsgZnJvbSAnbmV4dC9saW5rJ1xuaW1wb3J0IEhlYWQgZnJvbSAnLi4vY29tcG9uZW50cy9oZWFkJ1xuaW1wb3J0IEhvc3ROYXYgZnJvbSAnLi4vY29tcG9uZW50cy9ob3N0TmF2J1xuaW1wb3J0IGZldGNoIGZyb20gJ2lzb21vcnBoaWMtdW5mZXRjaCdcbmltcG9ydCB7IEJ1dHRvbiwgTW9kYWwsIE1vZGFsSGVhZGVyLCBNb2RhbEJvZHksIE1vZGFsRm9vdGVyLCBSb3csIENvbCwgSW5wdXQsIEZvcm0sIEZvcm1UZXh0LCBDdXN0b21JbnB1dCB9IGZyb20gJ3JlYWN0c3RyYXAnO1xuaW1wb3J0IHsgQ2FyZCwgQ2FyZEltZywgQ2FyZFRleHQsIENhcmRCb2R5LCBDYXJkVGl0bGUsIENhcmRTdWJ0aXRsZSwgQ2FyZERlY2ssIEZvcm1Hcm91cCwgTGFiZWwsIFRhYmxlfSBmcm9tICdyZWFjdHN0cmFwJztcbmltcG9ydCBSZWFjdEZpbGVSZWFkZXIgZnJvbSAncmVhY3QtZmlsZS1yZWFkZXInO1xuaW1wb3J0IENvb2tpZXMgZnJvbSAnanMtY29va2llJztcblxuaW1wb3J0IFJvdXRlciBmcm9tICduZXh0L3JvdXRlcidcblxuXG52YXIgZGl2U3R5bGUgPSB7XG4gIGNvbG9yOiAnd2hpdGUnXG4gIC8vY29sb3I6ICdkb2RnZXJibHVlJ1xufTtcblxuY2xhc3MgZXZlbnRMaXN0SG9zdCBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIGNvbnN0cnVjdG9yKHByb3BzLCBjb250ZXh0KXtcbiAgICBzdXBlcihwcm9wcywgY29udGV4dCk7XG4gICAgdGhpcy5zdGF0ZSA9IHtcbiAgICAgIG1vZGFsOiBmYWxzZSxcbiAgICAgIGRyb3BFdmVudE1vZGFsOiBmYWxzZSxcbiAgICAgIGFkZEhvc3RNb2RhbDogZmFsc2UsXG4gICAgICB2aXNpdG9yRW1haWxzOiBbXSxcbiAgICAgIGN1cnJlbnRfcGFpcmluZzogLTEsXG4gICAgICBldmVudExpc3Q6IFtdLFxuICAgICAgY3VycmVudF9ldmVudDogeyBcbiAgICAgICAgbmFtZTpcIlwiLFxuICAgICAgICBzdGFydF90aW1lOlwiXCIsXG4gICAgICAgIGVuZF90aW1lOlwiXCIsXG4gICAgICAgIGRlc2NyaXB0aW9uOlwiXCIsXG4gICAgICAgIGhvc3Rpbmdfb3JnYW5pemF0aW9uOlwiXCIsXG4gICAgICAgIGV4cGVjdGVkX251bWJlcl92aXNpdG9yczpcIlwiLFxuICAgICAgICBldmVudF9pZDpcIlwiXG4gICAgICAgfVxuICAgIH07XG4gICAgdGhpcy5hZGRIb3N0VG9nZ2xlID0gdGhpcy5hZGRIb3N0VG9nZ2xlLmJpbmQodGhpcyk7XG4gICAgdGhpcy5hZGRIb3N0ID0gdGhpcy5hZGRIb3N0LmJpbmQodGhpcyk7XG4gICAgdGhpcy5lZGl0RXZlbnQgPSB0aGlzLmVkaXRFdmVudC5iaW5kKHRoaXMpO1xuICAgIHRoaXMuaGFuZGxlRmlsZXMgPSB0aGlzLmhhbmRsZUZpbGVzLmJpbmQodGhpcyk7XG4gICAgdGhpcy5kcm9wRXZlbnRUb2dnbGUgPSB0aGlzLmRyb3BFdmVudFRvZ2dsZS5iaW5kKHRoaXMpO1xuICAgIHRoaXMuZHJvcEV2ZW50ID0gdGhpcy5kcm9wRXZlbnQuYmluZCh0aGlzKTtcbiAgICB0aGlzLmZpbHRlckV2ZW50cyA9IHRoaXMuZmlsdGVyRXZlbnRzLmJpbmQodGhpcyk7XG4gIH1cbiAgYXN5bmMgZWRpdEV2ZW50KCl7XG4gICAgY29uc29sZS5sb2codGhpcy5zdGF0ZS52aXNpdG9yRW1haWxzKVxuICAgIFxuICAgIGxldCBldmVudEluZm8gPSB7XG4gICAgICBcIm5hbWVcIjogZG9jdW1lbnQuZm9ybXNbXCJldmVudEVkaXRGb3JtXCJdW1wiZXZlbnRuYW1lXCJdLnZhbHVlLFxuICAgICAgXCJzdGFydF90aW1lXCI6IGRvY3VtZW50LmZvcm1zW1wiZXZlbnRFZGl0Rm9ybVwiXVtcInN0YXJ0dGltZVwiXS52YWx1ZSxcbiAgICAgIFwic3RhcnRfZGF0ZVwiOiBkb2N1bWVudC5mb3Jtc1tcImV2ZW50RWRpdEZvcm1cIl1bXCJzdGFydGRhdGVcIl0udmFsdWUsXG4gICAgICBcImVuZF90aW1lXCI6IGRvY3VtZW50LmZvcm1zW1wiZXZlbnRFZGl0Rm9ybVwiXVtcImVuZHRpbWVcIl0udmFsdWUsXG4gICAgICBcImVuZF9kYXRlXCI6IGRvY3VtZW50LmZvcm1zW1wiZXZlbnRFZGl0Rm9ybVwiXVtcImVuZGRhdGVcIl0udmFsdWUsXG4gICAgICBcImRlc2NyaXB0aW9uXCI6IGRvY3VtZW50LmZvcm1zW1wiZXZlbnRFZGl0Rm9ybVwiXVtcImRlc2NyaXB0aW9uXCJdLnZhbHVlLFxuICAgICAgXCJsb2NhdGlvblwiOiBkb2N1bWVudC5mb3Jtc1tcImV2ZW50RWRpdEZvcm1cIl1bXCJsb2NhdGlvblwiXS52YWx1ZSxcbiAgICAgIFwiZXhwZWN0ZWRfbnVtYmVyX3Zpc2l0b3JzXCI6IHBhcnNlSW50KGRvY3VtZW50LmZvcm1zW1wiZXZlbnRFZGl0Rm9ybVwiXVtcImV4cGVjdGVkbnVtXCJdLnZhbHVlKSxcbiAgICAgIFwibnVtYmVyX29mX2hvc3RzXCI6IDAsXG4gICAgICBcImhvc3RzXCI6IFwiXCIsXG4gICAgICBcImhvc3Rpbmdfb3JnYW5pemF0aW9uXCI6IGRvY3VtZW50LmZvcm1zW1wiZXZlbnRFZGl0Rm9ybVwiXVtcImhvc3RpbmdvcmdcIl0udmFsdWUsXG4gICAgICBcIm9yZ2FuaXplcl9pZFwiOiAxLH07XG5cbiAgICBjb25zdCByZXMgPSBhd2FpdCBmZXRjaCgnaHR0cDovL2xvY2FsaG9zdDo1MDAwL2V2ZW50L3VwZGF0ZS8nICsgdGhpcy5zdGF0ZS5jdXJyZW50X2V2ZW50LmV2ZW50X2lkLCB7XG4gICAgICAgIG1ldGhvZDogXCJQT1NUXCIsXG4gICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICAgICdBY2NlcHQnOiAnYXBwbGljYXRpb24vanNvbicsXG4gICAgICAgICAgICBcIkNvbnRlbnQtVHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIlxuICAgICAgICB9LCBcbiAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoZXZlbnRJbmZvKVxuICAgIH0pO1xuXG4gICAgdGhpcy5lZGl0TW9kYWxUb2dnbGUoKTtcblxuXG4gIH1cbiAgYXN5bmMgZHJvcEV2ZW50VG9nZ2xlKGV2ZW50KSB7XG5cbiAgICAvL3RoaXMuc2V0U3RhdGUoc3RhdGUgPT4gKHsgdmlzaXRvckVtYWlsczogXCJcIn0pKTtcbiAgICAvL3RoaXMuc2V0U3RhdGUoc3RhdGUgPT4gKHsgY3VycmVudF9ldmVudDogZXZlbnQudGFyZ2V0LnZhbHVlfSkpO1xuICAgIGlmICghdGhpcy5zdGF0ZS5kcm9wRXZlbnRNb2RhbClcbiAgICB7XG4gICAgICBsZXQgdmFsID0gZXZlbnQudGFyZ2V0LnZhbHVlO1xuICAgIFxuICAgICAgY29uc3QgcmVzID0gYXdhaXQgZmV0Y2goJ2h0dHA6Ly9sb2NhbGhvc3Q6NTAwMC9wYWlyaW5nLycgKyB2YWwsIHtcbiAgICAgICAgICAgbWV0aG9kOiBcIkdFVFwiLFxuICAgICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgICAgICBcIkNvbnRlbnQtVHlwZVwiOiBcInRleHQvcGxhaW5cIiwgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICBcIkFjY2Vzcy1Db250cm9sLUFsbG93LU9yaWdpblwiOiBcIipcIlxuICAgICAgICB9fSlcbiAgICAgIHZhciBkYXRhID0gYXdhaXQgcmVzLmpzb24oKVxuICAgICAgZGF0YSA9IEpTT04uc3RyaW5naWZ5KGRhdGEpXG4gICAgICBkYXRhID0gSlNPTi5wYXJzZShkYXRhKVxuICAgICAgdGhpcy5zZXRTdGF0ZShzdGF0ZSA9PiAoeyBjdXJyZW50X3BhaXJpbmc6IGRhdGF9KSk7XG4gICAgfVxuXG4gICAgICAvL2NvbnNvbGUubG9nKGRhdGEpO1xuXG4gICAgXG4gICAgdGhpcy5zZXRTdGF0ZShwcmV2U3RhdGUgPT4gKHtcbiAgICAgIGRyb3BFdmVudE1vZGFsOiAhcHJldlN0YXRlLmRyb3BFdmVudE1vZGFsXG4gICAgfSkpO1xuICAgIFxuXG5cbiAgfVxuICBhc3luYyBhZGRIb3N0VG9nZ2xlKGV2ZW50KSB7XG5cbiAgICB0aGlzLnNldFN0YXRlKHN0YXRlID0+ICh7IHZpc2l0b3JFbWFpbHM6IFwiXCJ9KSk7XG4gICAgLy90aGlzLnNldFN0YXRlKHN0YXRlID0+ICh7IGN1cnJlbnRfZXZlbnQ6IGV2ZW50LnRhcmdldC52YWx1ZX0pKTtcbiAgICBpZiAoIXRoaXMuc3RhdGUuYWRkSG9zdE1vZGFsKVxuICAgIHtcbiAgICAgIGxldCB2YWwgPSBldmVudC50YXJnZXQudmFsdWU7XG4gICAgXG4gICAgICBjb25zdCByZXMgPSBhd2FpdCBmZXRjaCgnaHR0cDovL2xvY2FsaG9zdDo1MDAwL3BhaXJpbmcvJyArIHZhbCwge1xuICAgICAgICAgICBtZXRob2Q6IFwiR0VUXCIsXG4gICAgICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICAgICAgIFwiQ29udGVudC1UeXBlXCI6IFwidGV4dC9wbGFpblwiLCAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgIFwiQWNjZXNzLUNvbnRyb2wtQWxsb3ctT3JpZ2luXCI6IFwiKlwiXG4gICAgICAgIH19KVxuICAgICAgdmFyIGRhdGEgPSBhd2FpdCByZXMuanNvbigpXG4gICAgICBkYXRhID0gSlNPTi5zdHJpbmdpZnkoZGF0YSlcbiAgICAgIGRhdGEgPSBKU09OLnBhcnNlKGRhdGEpXG4gICAgICB0aGlzLnNldFN0YXRlKHN0YXRlID0+ICh7IGN1cnJlbnRfcGFpcmluZzogZGF0YX0pKTtcbiAgICB9XG5cbiAgICAgIC8vY29uc29sZS5sb2coZGF0YSk7XG5cbiAgICBcbiAgICB0aGlzLnNldFN0YXRlKHByZXZTdGF0ZSA9PiAoe1xuICAgICAgYWRkSG9zdE1vZGFsOiAhcHJldlN0YXRlLmFkZEhvc3RNb2RhbFxuICAgIH0pKTtcbiAgICBcblxuXG4gIH1cbiAgYXN5bmMgZHJvcEV2ZW50KCl7XG5cbiAgICAgY29uc3QgcmVzID0gYXdhaXQgZmV0Y2goJ2h0dHA6Ly9sb2NhbGhvc3Q6NTAwMC9wYWlyaW5nL2RlbGV0ZS8nICsgdGhpcy5zdGF0ZS5jdXJyZW50X3BhaXJpbmcucGFpcmluZ19pZCwge1xuICAgICAgICBtZXRob2Q6IFwiREVMRVRFXCIsXG4gICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICAgICdBY2NlcHQnOiAnYXBwbGljYXRpb24vanNvbicsXG4gICAgICAgICAgICBcIkNvbnRlbnQtVHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIlxuICAgICAgICB9XG4gICAgfSk7XG5cbiAgICAgdGhpcy5kcm9wRXZlbnRUb2dnbGUoKTtcbiAgfVxuICBhc3luYyBhZGRIb3N0KCl7XG4gICAgLy9sZXQgbmFtZSA9IGRvY3VtZW50LmZvcm1zW1wiZXZlbnRDcmVhdGVGb3JtXCJdW1wiZXZlbnRuYW1lXCJdLnZhbHVlO1xuICAgIC8vY29uc29sZS5sb2cobmFtZSlcbiAgICBsZXQgZ2VuZGVyVmFsID0gZG9jdW1lbnQuZm9ybXNbXCJob3N0U2lnbnVwRm9ybVwiXVtcInJhZGlvMVwiXS52YWx1ZTtcbiAgICBsZXQgc2FtZV9nZW5kZXIgPSBnZW5kZXJWYWwgPT09IFwiWWVzXCIgPyB0cnVlIDogZmFsc2U7XG4gICAgLy9jb25zb2xlLmxvZyh0aGlzLnN0YXRlLnZpc2l0b3JFbWFpbHMpXG4gICAgbGV0IHBhaXJpbmdJbmZvID0ge1xuICAgICAgXCJob3N0X2ZpcnN0X25hbWVcIjogZG9jdW1lbnQuZm9ybXNbXCJob3N0U2lnbnVwRm9ybVwiXVtcImZpcnN0bmFtZVwiXS52YWx1ZSxcbiAgICAgIFwiaG9zdF9sYXN0X25hbWVcIjogZG9jdW1lbnQuZm9ybXNbXCJob3N0U2lnbnVwRm9ybVwiXVtcImxhc3RuYW1lXCJdLnZhbHVlLFxuICAgICAgXCJob3N0X2dlbmRlclwiOiBkb2N1bWVudC5mb3Jtc1tcImhvc3RTaWdudXBGb3JtXCJdW1wicmFkaW8yXCJdLnZhbHVlLFxuICAgICAgXCJzYW1lX2dlbmRlcl9yb29tXCI6IHNhbWVfZ2VuZGVyLFxuICAgICAgXCJob3N0X3Jvb21fbnVtXCI6IGRvY3VtZW50LmZvcm1zW1wiaG9zdFNpZ251cEZvcm1cIl1bXCJyb29tbnVtXCJdLnZhbHVlLFxuICAgICAgXCJtYXhfdmlzaXRvcnNcIjogZG9jdW1lbnQuZm9ybXNbXCJob3N0U2lnbnVwRm9ybVwiXVtcIm1heHZpc2l0b3JzXCJdLnZhbHVlLFxuICAgICAgXCJob3N0X2NlbGxwaG9uZVwiOiBkb2N1bWVudC5mb3Jtc1tcImhvc3RTaWdudXBGb3JtXCJdW1wiY2VsbG51bVwiXS52YWx1ZSxcbiAgICAgIFwiZXZlbnRfaWRcIjogdGhpcy5zdGF0ZS5jdXJyZW50X2V2ZW50LmV2ZW50X2lkXG4gICAgICB9O1xuXG4gICAgY29uc3QgcmVzID0gYXdhaXQgZmV0Y2goJ2h0dHA6Ly9sb2NhbGhvc3Q6NTAwMC9wYWlyaW5nL3VwZGF0ZS8nICsgdGhpcy5zdGF0ZS5jdXJyZW50X3BhaXJpbmcucGFpcmluZ19pZCwge1xuICAgICAgICBtZXRob2Q6IFwiUE9TVFwiLFxuICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgICAnQWNjZXB0JzogJ2FwcGxpY2F0aW9uL2pzb24nLFxuICAgICAgICAgICAgXCJDb250ZW50LVR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCJcbiAgICAgICAgfSwgXG4gICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHBhaXJpbmdJbmZvKVxuICAgIH0pO1xuXG5cbiAgICB0aGlzLmFkZEhvc3RUb2dnbGUoKTtcbiAgfVxuICBoYW5kbGVGaWxlcyA9IGZpbGVzID0+IHtcbiAgICB2YXIgcmVhZGVyID0gbmV3IEZpbGVSZWFkZXIoKTtcbiAgICB2YXIgcmVzdWx0ID0gW107XG4gICAgcmVhZGVyLm9ubG9hZCA9IGZ1bmN0aW9uKGUpIHtcbiAgICAvLyBVc2UgcmVhZGVyLnJlc3VsdFxuICAgIHJlc3VsdCA9IHJlYWRlci5yZXN1bHQuc3BsaXQoXCIsXCIpXG4gICAgXG4gICAgYWxlcnQocmVzdWx0WzBdKVxuICAgIH1cbiAgICB0aGlzLnNldFN0YXRlKHN0YXRlID0+ICh7IHZpc2l0b3JFbWFpbHM6IHJlc3VsdH0pKTtcbiAgcmVhZGVyLnJlYWRBc1RleHQoZmlsZXNbMF0pO1xufVxuICB0b2dnbGUoKSB7XG4gICAgdGhpcy5zZXRTdGF0ZShwcmV2U3RhdGUgPT4gKHtcbiAgICAgIG1vZGFsOiAhcHJldlN0YXRlLm1vZGFsXG4gICAgfSkpO1xuICAgIGlmICghdGhpcy5zdGF0ZS5tb2RhbClcbiAgICAgIHRoaXMuc2V0U3RhdGUoc3RhdGUgPT4gKHsgdmlzaXRvckVtYWlsczogXCJcIn0pKTtcbiAgfVxuICBhc3luYyBmaWx0ZXJFdmVudHMoKVxuICB7XG4gICAgdmFyIG5ldGlkID0gU3RyaW5nKENvb2tpZXMuZ2V0KCduZXRpZCcpKTtcblxuICAgIGNvbnN0IHJlcyA9IGF3YWl0IGZldGNoKCdodHRwOi8vbG9jYWxob3N0OjUwMDAvcGFpcmluZy9ldmVudHNfZm9yX2hvc3QvJyArIG5ldGlkLCB7XG4gICAgICAgICAgICBtZXRob2Q6IFwiR0VUXCIsXG4gICAgICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgICAgICAgXCJDb250ZW50LVR5cGVcIjogXCJ0ZXh0L3BsYWluXCIsXG4gICAgICAgICAgICAgICAgXCJBY2Nlc3MtQ29udHJvbC1BbGxvdy1PcmlnaW5cIjogXCIqXCJcbiAgICAgICAgICAgIH19KVxuICAgICAgdmFyIGRhdGEgPSBhd2FpdCByZXMuanNvbigpXG4gICAgICBkYXRhID0gSlNPTi5zdHJpbmdpZnkoZGF0YSlcblxuICAgICBkYXRhID0gSlNPTi5wYXJzZShkYXRhKVxuXG4gICAgIGxldCBldmVudHMgPSBbXVxuXG4gICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZGF0YS5sZW5ndGg7IGkrKylcbiAgICAge1xuICAgICAgLypkZXNjcmlwdGlvbnMucHVzaChkYXRhW2ldWydkZXNjcmlwdGlvbiddKTtcbiAgICAgIGVuZF9kYXRlcy5wdXNoKGRhdGFbaV1bJ2VuZF9kYXRlcyddKVxuICAgICAgZW5kX3RpbWVzLnB1c2goZGF0YVtpXVsnZW5kX3RpbWVzJ10pXG4gICAgICBleHBlY3RlZF9udW1iZXJfdmlzaXRvcnMucHVzaChkYXRhW2ldWydleHBlY3RlZF9udW1iZXJfdmlzaXRvcnMnXSlcbiAgICAgIGhvc3Rpbmdfb3JnYW5pemF0aW9ucy5wdXNoKGRhdGFbaV1bJ2hvc3Rpbmdfb3JnYW5pemF0aW9ucyddKVxuICAgICAgbG9jYXRpb25zLnB1c2goZGF0YVtpXVsnbG9jYXRpb25zJ10pXG4gICAgICBuYW1lcy5wdXNoKGRhdGFbaV1bJ25hbWVzJ10pXG4gICAgICBudW1iZXJfb2ZfaG9zdHMucHVzaChkYXRhW2ldWydudW1iZXJfb2ZfaG9zdHMnXSlcbiAgICAgIHN0YXJ0X2RhdGVzLnB1c2goZGF0YVtpXVsnc3RhcnRfZGF0ZSddKVxuICAgICAgc3RhcnRfdGltZXMucHVzaChkYXRhW2ldWydzdGFydF90aW1lJ10pKi9cbiAgICAgIGV2ZW50cy5wdXNoKEpTT04uc3RyaW5naWZ5KGRhdGFbaV0pKVxuICAgICB9XG5cbiAgICAgLy9jb25zb2xlLmxvZyhldmVudHMpXG5cbiAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgIGV2ZW50TGlzdDogZXZlbnRzXG4gICAgICB9KTtcbiAgfVxuICBzdGF0aWMgYXN5bmMgZ2V0SW5pdGlhbFByb3BzKCl7XG4gICAgICAgIC8vY29uc3QgbmV0aWQgPSBDb29raWVzLmdldCgnbmV0aWQnKVxuICAgICAgICAvKmNvbnN0IHJlcyA9IGF3YWl0IGZldGNoKCdodHRwOi8vbG9jYWxob3N0OjUwMDAvcGFpcmluZy9ldmVudHNfZm9yX2hvc3QvJyArIG5ldGlkLCB7XG4gICAgICAgICAgICBtZXRob2Q6IFwiR0VUXCIsXG4gICAgICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgICAgICAgXCJDb250ZW50LVR5cGVcIjogXCJ0ZXh0L3BsYWluXCIsXG4gICAgICAgICAgICAgICAgXCJBY2Nlc3MtQ29udHJvbC1BbGxvdy1PcmlnaW5cIjogXCIqXCJcbiAgICAgICAgICAgIH19KVxuICAgICAgdmFyIGRhdGEgPSBhd2FpdCByZXMuanNvbigpXG4gICAgICBkYXRhID0gSlNPTi5zdHJpbmdpZnkoZGF0YSlcblxuICAgICBkYXRhID0gSlNPTi5wYXJzZShkYXRhKSAqL1xuICAgICAvL2NvbnNvbGUubG9nKGRhdGEpXG5cbiAgICAgbGV0IGRlc2NyaXB0aW9ucyA9IFtdXG4gICAgIGxldCBlbmRfZGF0ZXMgPSBbXVxuICAgICBsZXQgZW5kX3RpbWVzID0gW11cbiAgICAgbGV0IGV4cGVjdGVkX251bWJlcl92aXNpdG9ycyA9IFtdXG4gICAgIGxldCBob3N0aW5nX29yZ2FuaXphdGlvbnMgPSBbXVxuICAgICBsZXQgbG9jYXRpb25zID0gW11cbiAgICAgbGV0IG5hbWVzID0gW11cbiAgICAgbGV0IG51bWJlcl9vZl9ob3N0cyA9IFtdXG4gICAgIGxldCBzdGFydF9kYXRlcyA9IFtdXG4gICAgIGxldCBzdGFydF90aW1lcyA9IFtdXG4gICAgIGxldCBldmVudHMgPSBbXVxuXG4gICAgIFxuICAgICByZXR1cm4ge1xuICAgICAgZGVzY3JpcHRpb25zOiBkZXNjcmlwdGlvbnMsXG4gICAgICBlbmRfZGF0ZXM6IGVuZF9kYXRlcyxcbiAgICAgIGVuZF90aW1lczogZW5kX3RpbWVzLFxuICAgICAgZXhwZWN0ZWRfbnVtYmVyX3Zpc2l0b3JzOiBleHBlY3RlZF9udW1iZXJfdmlzaXRvcnMsIFxuICAgICAgaG9zdGluZ19vcmdhbml6YXRpb25zOiBob3N0aW5nX29yZ2FuaXphdGlvbnMsIFxuICAgICAgbG9jYXRpb25zOiBsb2NhdGlvbnMsIFxuICAgICAgbmFtZXM6IG5hbWVzLFxuICAgICAgbnVtYmVyX29mX2hvc3RzOiBudW1iZXJfb2ZfaG9zdHMsXG4gICAgICBzdGFydF9kYXRlczogc3RhcnRfZGF0ZXMsXG4gICAgICBzdGFydF90aW1lczogc3RhcnRfdGltZXMsXG4gICAgICBldmVudHM6ZXZlbnRzXG4gICAgIH1cblxuICAgICAgLypyZXR1cm4ge1xuICAgICAgICBkZXNjcmlwdGlvbjogZGF0YVsnZGVzY3JpcHRpb24nXSwgXG4gICAgICAgIGVuZF9kYXRlOiBkYXRhWydlbmRfZGF0ZSddLFxuICAgICAgICBlbmRfdGltZTogZGF0YVsnZW5kX3RpbWUnXSxcbiAgICAgICAgZXhwZWN0ZWRfbnVtYmVyX3Zpc2l0b3JzOiBkYXRhWydleHBlY3RlZF9udW1iZXJfdmlzaXRvcnMnXSxcbiAgICAgICAgaG9zdGluZ19vcmdhbml6YXRpb246IGRhdGFbJ2hvc3Rpbmdfb3JnYW5pemF0aW9uJ10sXG4gICAgICAgIGxvY2F0aW9uOiBkYXRhWydsb2NhdGlvbiddLFxuICAgICAgICBuYW1lOiBkYXRhWyduYW1lJ10sXG4gICAgICAgIG51bWJlcl9vZl9ob3N0czogZGF0YVsnbnVtYmVyX29mX2hvc3RzJ10sXG4gICAgICAgIHN0YXJ0X2RhdGU6IGRhdGFbJ3N0YXJ0X2RhdGUnXSxcbiAgICAgICAgc3RhcnRfdGltZTogZGF0YVsnc3RhcnRfdGltZSddXG4gICAgICB9ICovXG5cblxuICB9XG4gIHJlbmRlcihwcm9wcyl7IFxuXG4gICAgLyp0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgZXZlbnRMaXN0OiB0aGlzLmZpbHRlckV2ZW50cygpXG4gICAgICB9KTsgKi9cbiAgICAgIC8vdGhpcy5maWx0ZXJFdmVudHMoKTtcbiAgICByZXR1cm4oXG4gIDxkaXY+XG4gIDxIZWFkIHRpdGxlPVwiSG9zdCBFdmVudHNcIiAvPlxuICAgIDxIb3N0TmF2IC8+XG4gICAgXG4gICAgPGRpdiBjbGFzc05hbWU9XCJoZXJvXCI+XG4gICAgICA8Y2VudGVyPiA8aDIgc3R5bGU9e2RpdlN0eWxlfT4gWW91ciBFdmVudHM8L2gyPiA8L2NlbnRlcj5cbiAgICAgIDxiciAvPlxuXG4gICAgICB7dGhpcy5maWx0ZXJFdmVudHMoKX1cblxuICAgICAgPE1vZGFsIGtleT1cIjFcIiBpc09wZW49e3RoaXMuc3RhdGUuYWRkSG9zdE1vZGFsfSB0b2dnbGU9e3RoaXMuYWRkSG9zdFRvZ2dsZX0gY2xhc3NOYW1lPXt0aGlzLnByb3BzLmNsYXNzTmFtZX0+XG4gICAgICAgICAgPE1vZGFsSGVhZGVyIHRvZ2dsZT17dGhpcy5hZGRIb3N0VG9nZ2xlfT4gPHAgY2xhc3NOYW1lPVwidGV4dC1wcmltYXJ5XCI+IEVkaXQgSW5mb3JtYXRpb24gZm9yIHt0aGlzLnN0YXRlLmN1cnJlbnRfcGFpcmluZy5ldmVudF9uYW1lfSA8L3A+IDwvTW9kYWxIZWFkZXI+XG4gICAgICAgICAgPE1vZGFsQm9keT5cbiAgICAgICAgICA8Rm9ybSBpZD1cImhvc3RTaWdudXBGb3JtXCI+XG4gICAgICAgICAgPFJvdz5cbiAgICAgICAgICA8Q29sPlxuICAgICAgICAgIEZpcnN0IE5hbWVcbiAgICAgICAgICA8L0NvbD5cbiAgICAgICAgICA8Q29sPlxuICAgICAgICAgIDxJbnB1dCB0eXBlPVwidGV4dFwiIG5hbWU9XCJmaXJzdG5hbWVcIiBpZD1cImZpcnN0bmFtZVwiIGRlZmF1bHRWYWx1ZT17dGhpcy5zdGF0ZS5jdXJyZW50X3BhaXJpbmcuaG9zdF9maXJzdF9uYW1lfS8gPiAgXG4gICAgICAgICAgPC9Db2w+XG4gICAgICAgICAgPC9Sb3c+XG4gICAgICAgICAgPGJyIC8+XG4gICAgICAgICAgPFJvdz5cbiAgICAgICAgICA8Q29sPlxuICAgICAgICAgIExhc3QgTmFtZVxuICAgICAgICAgIDwvQ29sPlxuICAgICAgICAgIDxDb2w+XG4gICAgICAgICAgPElucHV0IHR5cGU9XCJ0ZXh0XCIgbmFtZT1cImxhc3RuYW1lXCIgaWQ9XCJsYXN0bmFtZVwiIGRlZmF1bHRWYWx1ZT17dGhpcy5zdGF0ZS5jdXJyZW50X3BhaXJpbmcuaG9zdF9sYXN0X25hbWV9Lz4gIFxuICAgICAgICAgIDwvQ29sPlxuICAgICAgICAgIDwvUm93PlxuICAgICAgICAgIDxiciAvPlxuICAgICAgICAgIDxSb3c+XG4gICAgICAgICAgPENvbD5cbiAgICAgICAgICBSb29tIE51bWJlciBcbiAgICAgICAgICA8L0NvbD5cbiAgICAgICAgICA8Q29sPlxuICAgICAgICAgIDxJbnB1dCB0eXBlPVwidGV4dFwiIG5hbWU9XCJyb29tbnVtXCIgaWQ9XCJyb29tbnVtXCIgZGVmYXVsdFZhbHVlPXt0aGlzLnN0YXRlLmN1cnJlbnRfcGFpcmluZy5ob3N0X3Jvb21fbnVtfS8+XG4gICAgICAgICAgPC9Db2w+XG4gICAgICAgICAgPC9Sb3c+XG4gICAgICAgICAgPGJyIC8+XG4gICAgICAgICAgPFJvdz5cbiAgICAgICAgICA8Q29sPlxuICAgICAgICAgIENlbGxwaG9uZSBOdW1iZXI6IFxuICAgICAgICAgIDwvQ29sPlxuICAgICAgICAgIDxDb2w+XG4gICAgICAgICAgPElucHV0IHR5cGU9XCJ0ZXh0XCIgbmFtZT1cImNlbGxudW1cIiBpZD1cImNlbGxudW1cIiBkZWZhdWx0VmFsdWU9e3RoaXMuc3RhdGUuY3VycmVudF9wYWlyaW5nLmhvc3RfY2VsbHBob25lfS8+XG4gICAgICAgICAgPC9Db2w+XG4gICAgICAgICAgPC9Sb3c+XG4gICAgICAgICAgPGJyIC8+XG4gICAgICAgICAgPFJvdz5cbiAgICAgICAgICA8Q29sPlxuICAgICAgICAgIE1heCBOdW1iZXIgb2YgVmlzaXRvcnM6IFxuICAgICAgICAgIDwvQ29sPlxuICAgICAgICAgIDxDb2w+XG4gICAgICAgICAgPElucHV0IHR5cGU9XCJ0ZXh0XCIgbmFtZT1cIm1heHZpc2l0b3JzXCIgaWQ9XCJtYXh2aXNpdG9yc1wiIGRlZmF1bHRWYWx1ZT17dGhpcy5zdGF0ZS5jdXJyZW50X3BhaXJpbmcubWF4X3Zpc2l0b3JzfS8+XG4gICAgICAgICAgPC9Db2w+XG4gICAgICAgICAgPC9Sb3c+XG4gICAgICAgICAgPGJyIC8+XG4gICAgICAgICAgPFJvdz5cbiAgICAgICAgICA8Q29sPiBHZW5kZXIgPC9Db2w+XG4gICAgICAgICAgPENvbD4gXG4gICAgICAgICAgPEZvcm1Hcm91cCBjaGVjaz5cbiAgICAgICAgICAgICAgPExhYmVsIGNoZWNrPlxuICAgICAgICAgICAgICAgIDxJbnB1dCB0eXBlPVwicmFkaW9cIiBuYW1lPVwicmFkaW8yXCIgaWQ9XCJyYWRpbzJcIiB2YWx1ZT1cIk1hbGVcIi8+eycgJ31cbiAgICAgICAgICAgICAgICBNYWxlXG4gICAgICAgICAgICAgIDwvTGFiZWw+XG4gICAgICAgICAgICA8L0Zvcm1Hcm91cD5cbiAgICAgICAgICAgIDxGb3JtR3JvdXAgY2hlY2s+XG4gICAgICAgICAgICAgIDxMYWJlbCBjaGVjaz5cbiAgICAgICAgICAgICAgICA8SW5wdXQgdHlwZT1cInJhZGlvXCIgbmFtZT1cInJhZGlvMlwiIGlkPVwicmFkaW8yXCIgdmFsdWU9XCJGZW1hbGVcIi8+eycgJ31cbiAgICAgICAgICAgICAgICBGZW1hbGVcbiAgICAgICAgICAgICAgPC9MYWJlbD5cbiAgICAgICAgICAgIDwvRm9ybUdyb3VwPlxuICAgICAgICAgICA8L0NvbD5cbiAgICAgICAgICA8L1Jvdz5cbiAgICAgICAgICA8YnIgLz5cbiAgICAgICAgICA8Um93PlxuICAgICAgICAgIDxDb2w+IE9wcG9zaXRlIEdlbmRlciBWaXNpdG9yczwvQ29sPlxuICAgICAgICAgIDxDb2w+XG4gICAgICAgICAgPEZvcm1Hcm91cCBjaGVjaz5cbiAgICAgICAgICAgICAgPExhYmVsIGNoZWNrPlxuICAgICAgICAgICAgICAgIDxJbnB1dCB0eXBlPVwicmFkaW9cIiBuYW1lPVwicmFkaW8xXCIgaWQ9XCJyYWRpbzFcIiB2YWx1ZT1cInllc1wiLz57JyAnfVxuICAgICAgICAgICAgICAgIFllc1xuICAgICAgICAgICAgICA8L0xhYmVsPlxuICAgICAgICAgICAgPC9Gb3JtR3JvdXA+XG4gICAgICAgICAgICA8Rm9ybUdyb3VwIGNoZWNrPlxuICAgICAgICAgICAgICA8TGFiZWwgY2hlY2s+XG4gICAgICAgICAgICAgICAgPElucHV0IHR5cGU9XCJyYWRpb1wiIG5hbWU9XCJyYWRpbzFcIiBpZD1cInJhZGlvMVwiIHZhbHVlPVwibm9cIi8+eycgJ31cbiAgICAgICAgICAgICAgICBOb1xuICAgICAgICAgICAgICA8L0xhYmVsPlxuICAgICAgICAgICAgPC9Gb3JtR3JvdXA+XG4gICAgICAgICAgPC9Db2w+XG4gICAgICAgICAgPC9Sb3c+XG4gICAgICAgICAgPGJyIC8+XG4gICAgICAgICAgPC9Gb3JtPiAgXG4gICAgICAgICAgPC9Nb2RhbEJvZHk+XG4gICAgICAgICAgPE1vZGFsRm9vdGVyPlxuICAgICAgICAgICAgPEJ1dHRvbiBjb2xvcj1cInByaW1hcnlcIiBvbkNsaWNrPXt0aGlzLmFkZEhvc3R9PiBVcGRhdGUgSW5mbyA8L0J1dHRvbj57JyAnfVxuICAgICAgICAgICAgPEJ1dHRvbiBjb2xvcj1cInNlY29uZGFyeVwiIG9uQ2xpY2s9e3RoaXMuYWRkSG9zdFRvZ2dsZX0+Q2FuY2VsPC9CdXR0b24+XG4gICAgICAgICAgPC9Nb2RhbEZvb3Rlcj5cbiAgICAgIDwvTW9kYWw+XG5cbiAgICAgICA8TW9kYWwga2V5PVwiMlwiIGlzT3Blbj17dGhpcy5zdGF0ZS5kcm9wRXZlbnRNb2RhbH0gdG9nZ2xlPXt0aGlzLmRyb3BFdmVudFRvZ2dsZX0gY2xhc3NOYW1lPXt0aGlzLnByb3BzLmNsYXNzTmFtZX0+XG4gICAgICAgICAgPE1vZGFsSGVhZGVyIHRvZ2dsZT17dGhpcy5kcm9wRXZlbnRUb2dnbGV9PiA8cCBjbGFzc05hbWU9XCJ0ZXh0LWRhbmdlclwiPiBEcm9wIHt0aGlzLnN0YXRlLmN1cnJlbnRfcGFpcmluZy5ldmVudF9uYW1lfSA8L3A+IDwvTW9kYWxIZWFkZXI+XG4gICAgICAgICAgPE1vZGFsQm9keT5cblxuICAgICAgICAgIEFyZSB5b3Ugc3VyZSB5b3Ugd2FudCB0byBkcm9wIG91dCBvZiB0aGlzIGV2ZW50P1xuXG4gICAgICAgICAgPC9Nb2RhbEJvZHk+XG5cbiAgICAgICAgICA8TW9kYWxGb290ZXI+XG4gICAgICAgICAgICA8QnV0dG9uIGNvbG9yPVwiZGFuZ2VyXCIgb25DbGljaz17dGhpcy5kcm9wRXZlbnR9PiBEcm9wIEV2ZW50PC9CdXR0b24+eycgJ31cbiAgICAgICAgICAgIDxCdXR0b24gY29sb3I9XCJzZWNvbmRhcnlcIiBvbkNsaWNrPXt0aGlzLmRyb3BFdmVudFRvZ2dsZX0+Q2FuY2VsPC9CdXR0b24+XG4gICAgICAgICAgPC9Nb2RhbEZvb3Rlcj5cbiAgICAgICAgPC9Nb2RhbD5cblxuICAgICAgey8qPENhcmREZWNrPlxuICAgICAgICB7dGhpcy5wcm9wcy5ldmVudHMubWFwKCh2YWx1ZSwgaW5kZXgpID0+IHtcbiAgICAgICAgICBsZXQganNvblZhbCA9IEpTT04ucGFyc2UodmFsdWUpXG4gICAgICAgICAgcmV0dXJuIDxkaXYga2V5PXtpbmRleH0+IFxuICAgICAgICAgICAgICAgICA8Q2FyZD5cbiAgICAgICAgICAgICAgICAgPHAga2V5PVwiMFwiPiBFdmVudCBJZDoge2pzb25WYWxbJ2V2ZW50X2lkJ119IDwvcD4gXG4gICAgICAgICAgICAgICAgIDxwIGtleT1cIjFcIj4gWW91ciBnZW5kZXI6IHtqc29uVmFsWydob3N0X2dlbmRlciddfSA8L3A+XG4gICAgICAgICAgICAgICAgIDxwIGtleT1cIjJcIj4gU2FtZSBHZW5kZXIgUm9vbToge1N0cmluZyhqc29uVmFsWydzYW1lX2dlbmRlcl9yb29tJ10pfSA8L3A+XG4gICAgICAgICAgICAgICAgIDxwIGtleT1cIjNcIj4gTWF4aW11bSBWaXNpdG9yczoge2pzb25WYWxbJ21heF92aXNpdG9ycyddfSA8L3A+XG4gICAgICAgICAgICAgICAgIDxwIGtleT1cIjRcIj4gRmlyc3QgTmFtZToge2pzb25WYWxbJ2hvc3RfZmlyc3RfbmFtZSddfSA8L3A+XG4gICAgICAgICAgICAgICAgIDxwIGtleT1cIjVcIj4gTGFzdCBOYW1lOiB7anNvblZhbFsnaG9zdF9sYXN0X25hbWUnXX0gPC9wPiAgXG4gICAgICAgICAgICAgICAgIDxwIGtleT1cIjZcIj4gQ2VsbHBob25lOiB7anNvblZhbFsnaG9zdF9jZWxscGhvbmUnXX0gPC9wPiAgICBcbiAgICAgICAgICAgICAgICAgPGJyIC8+ICAgICAgICAgXG4gICAgICAgICAgICAgICAgICA8QnV0dG9uIGtleT1cIjhcIiB2YWx1ZT17anNvblZhbFsnZXZlbnRfaWQnXX0gb25DbGljaz17dGhpcy5hZGRIb3N0VG9nZ2xlfT4gRWRpdCBJbmZvcm1hdGlvbiA8L0J1dHRvbj4gXG4gICAgICAgICAgICAgICAgIDxCdXR0b24gY29sb3I9XCJkYW5nZXJcIiBrZXk9XCI5XCIgdmFsdWU9e2pzb25WYWxbJ2V2ZW50X2lkJ119IG9uQ2xpY2s9e3RoaXMuZHJvcEV2ZW50fT4gRHJvcCBFdmVudCA8L0J1dHRvbj5cbiAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgIDwvQ2FyZD4gXG4gICAgICAgICAgICAgICAgIDwvZGl2PlxuICBcbiAgICAgICAgfSl9XG4gICAgICAgIDwvQ2FyZERlY2s+ICovfVxuICAgICAgICB7LyogPFRhYmxlIGRhcms+XG4gICAgICAgICA8dGJvZHk+XG4gICAgICAgICBcbiAgICAgICAgIHt0aGlzLnN0YXRlLmV2ZW50TGlzdC5tYXAoKHZhbHVlLCBpbmRleCkgPT4ge1xuICAgICAgICAgIC8vY29uc29sZS5sb2coXCJ2YWx1ZVwiICsgdmFsdWUpO1xuICAgICAgICAgIGxldCBqc29uVmFsID0gSlNPTi5wYXJzZSh2YWx1ZSlcbiAgICAgICAgICAvL2xldCBqc29uVmFsID0gdmFsdWU7XG4gICAgICAgICAgbGV0IHRhYmxlSGVhZCA9IFwiXCI7XG4gICAgICAgICAgaWYgKGluZGV4ID09IDApXG4gICAgICAgICAge1xuICAgICAgICAgICAgdGFibGVIZWFkID0gXCI8dGhlYWQ+IDx0cj4gPHRoPiBOYW1lIDwvdGg+IDx0aD4geW91ciBnZW5kZXIgPC90aD5cIlxuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gPGRpdj5cbiAgICAgICAgICAgICAgICAgPHRyIGtleT17aW5kZXh9PlxuICAgICAgICAgICAgICAgICA8dGgga2V5PVwiMFwiPiBFdmVudCBOYW1lOiB7anNvblZhbFsnZXZlbnRfbmFtZSddfSA8L3RoPiBcbiAgICAgICAgICAgICAgICAgPHRoIGtleT1cIjFcIj4gWW91ciBnZW5kZXI6IHtqc29uVmFsWydob3N0X2dlbmRlciddfSA8L3RoPlxuICAgICAgICAgICAgICAgICA8dGgga2V5PVwiMlwiPiBTYW1lIEdlbmRlciBSb29tOiB7KGpzb25WYWxbJ3NhbWVfZ2VuZGVyX3Jvb20nXSl9IDwvdGg+XG4gICAgICAgICAgICAgICAgIDx0aCBrZXk9XCIzXCI+IE1heGltdW0gVmlzaXRvcnM6IHtqc29uVmFsWydtYXhfdmlzaXRvcnMnXX0gPC90aD5cbiAgICAgICAgICAgICAgICAgPHRoIGtleT1cIjRcIj4gRmlyc3QgTmFtZToge2pzb25WYWxbJ2hvc3RfZmlyc3RfbmFtZSddfSA8L3RoPlxuICAgICAgICAgICAgICAgICA8dGgga2V5PVwiNVwiPiBMYXN0IE5hbWU6IHtqc29uVmFsWydob3N0X2xhc3RfbmFtZSddfSA8L3RoPiAgXG4gICAgICAgICAgICAgICAgIDx0aCBrZXk9XCI2XCI+IENlbGxwaG9uZToge2pzb25WYWxbJ2hvc3RfY2VsbHBob25lJ119IDwvdGg+ICAgIFxuICAgICAgICAgICAgICAgICA8YnIgLz4gICAgICAgICBcbiAgICAgICAgICAgICAgICAgIDx0aD4gPEJ1dHRvbiBjb2xvcj1cImxpZ2h0XCIga2V5PVwiOFwiIHZhbHVlPXtqc29uVmFsWydwYWlyaW5nX2lkJ119IG9uQ2xpY2s9e3RoaXMuYWRkSG9zdFRvZ2dsZX0+IEVkaXQgSW5mb3JtYXRpb24gPC9CdXR0b24+IDwvdGg+XG4gICAgICAgICAgICAgICAgIDx0aD4gPEJ1dHRvbiBjb2xvcj1cImRhbmdlclwiIGtleT1cIjlcIiB2YWx1ZT17anNvblZhbFsncGFpcmluZ19pZCddfSBvbkNsaWNrPXt0aGlzLmRyb3BFdmVudFRvZ2dsZX0+IERyb3AgRXZlbnQgPC9CdXR0b24+IDwvdGg+XG4gICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICA8L3RyPiBcbiAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgIFxuICBcbiAgICAgICAgfSl9IFxuICAgICAgICAgPC90Ym9keT5cbiAgICAgICAgIDwvVGFibGU+ICovfVxuICAgIDwvZGl2PlxuPHN0eWxlIGpzeD57YFxuICAgICAgLmhlcm8ge1xuICAgICAgICB3aWR0aDogMTAwJTtcbiAgICAgICAgY29sb3I6ICMzMzM7XG4gICAgICB9XG4gICAgICAudGl0bGUge1xuICAgICAgICBtYXJnaW46IDA7XG4gICAgICAgIHdpZHRoOiAxMDAlO1xuICAgICAgICBwYWRkaW5nLXRvcDogODBweDtcbiAgICAgICAgbGluZS1oZWlnaHQ6IDEuMTU7XG4gICAgICAgIGZvbnQtc2l6ZTogNDhweDtcbiAgICAgIH1cbiAgICAgIC50aXRsZSxcbiAgICAgIC5kZXNjcmlwdGlvbiB7XG4gICAgICAgIHRleHQtYWxpZ246IGNlbnRlcjtcbiAgICAgIH1cbiAgICAgIC5yb3cge1xuICAgICAgICBtYXgtd2lkdGg6IDg4MHB4O1xuICAgICAgICBtYXJnaW46IDgwcHggYXV0byA0MHB4O1xuICAgICAgICBkaXNwbGF5OiBmbGV4O1xuICAgICAgICBmbGV4LWRpcmVjdGlvbjogcm93O1xuICAgICAgICBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWFyb3VuZDtcbiAgICAgIH1cbiAgICAgIC5jYXJkIHtcbiAgICAgICAgcGFkZGluZzogMzBweCAzMHB4IDMwcHg7XG4gICAgICAgIHdpZHRoOiAzMDBweDtcbiAgICAgICAgdGV4dC1hbGlnbjogbGVmdDtcbiAgICAgICAgdGV4dC1kZWNvcmF0aW9uOiBub25lO1xuICAgICAgICBjb2xvcjogIzQzNDM0MztcbiAgICAgICAgYm9yZGVyOiAxcHggc29saWQgIzliOWI5YjtcbiAgICAgIH1cbiAgICAgIC5jYXJkOmhvdmVyIHtcbiAgICAgICAgYm9yZGVyLWNvbG9yOiAjMDY3ZGY3O1xuICAgICAgfVxuICAgICAgLmNhcmQgaDMge1xuICAgICAgICBtYXJnaW46IDA7XG4gICAgICAgIGNvbG9yOiAjMDY3ZGY3O1xuICAgICAgICBmb250LXNpemU6IDE4cHg7XG4gICAgICB9XG4gICAgICAuY2FyZCBwIHtcbiAgICAgICAgbWFyZ2luOiAwO1xuICAgICAgICBwYWRkaW5nOiAxMnB4IDAgMDtcbiAgICAgICAgZm9udC1zaXplOiAxM3B4O1xuICAgICAgICBjb2xvcjogIzMzMztcbiAgICAgIH1cbiAgICBgfTwvc3R5bGU+XG4gIDwvZGl2PlxuXG4pfVxufVxuXG5leHBvcnQgZGVmYXVsdCBldmVudExpc3RIb3N0XG4iXX0= */\\n/*@ sourceURL=/Users/nshankar13/Documents/github/TigerNest2/TigerNest/frontend/pages/hostMyEvents.js */\"));\n    }\n  }], [{\n    key: \"getInitialProps\",\n    value: function () {\n      var _getInitialProps = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee7() {\n        var descriptions, end_dates, end_times, expected_number_visitors, hosting_organizations, locations, names, number_of_hosts, start_dates, start_times, events;\n        return _regeneratorRuntime.wrap(function _callee7$(_context7) {\n          while (1) {\n            switch (_context7.prev = _context7.next) {\n              case 0:\n                //const netid = Cookies.get('netid')\n\n                /*const res = await fetch('http://localhost:5000/pairing/events_for_host/' + netid, {\n                    method: \"GET\",\n                    headers: {\n                        \"Content-Type\": \"text/plain\",\n                        \"Access-Control-Allow-Origin\": \"*\"\n                    }})\n                var data = await res.json()\n                data = JSON.stringify(data)\n                data = JSON.parse(data) */\n                //console.log(data)\n                descriptions = [];\n                end_dates = [];\n                end_times = [];\n                expected_number_visitors = [];\n                hosting_organizations = [];\n                locations = [];\n                names = [];\n                number_of_hosts = [];\n                start_dates = [];\n                start_times = [];\n                events = [];\n                return _context7.abrupt(\"return\", {\n                  descriptions: descriptions,\n                  end_dates: end_dates,\n                  end_times: end_times,\n                  expected_number_visitors: expected_number_visitors,\n                  hosting_organizations: hosting_organizations,\n                  locations: locations,\n                  names: names,\n                  number_of_hosts: number_of_hosts,\n                  start_dates: start_dates,\n                  start_times: start_times,\n                  events: events\n                  /*return {\n                    description: data['description'], \n                    end_date: data['end_date'],\n                    end_time: data['end_time'],\n                    expected_number_visitors: data['expected_number_visitors'],\n                    hosting_organization: data['hosting_organization'],\n                    location: data['location'],\n                    name: data['name'],\n                    number_of_hosts: data['number_of_hosts'],\n                    start_date: data['start_date'],\n                    start_time: data['start_time']\n                  } */\n\n                });\n\n              case 12:\n              case \"end\":\n                return _context7.stop();\n            }\n          }\n        }, _callee7);\n      }));\n\n      function getInitialProps() {\n        return _getInitialProps.apply(this, arguments);\n      }\n\n      return getInitialProps;\n    }()\n  }]);\n\n  return eventListHost;\n}(React.Component);\n\nexport default eventListHost;","map":{"version":3,"sources":["/Users/nshankar13/Documents/github/TigerNest2/TigerNest/frontend/pages/hostMyEvents.js"],"names":["React","Link","Head","HostNav","fetch","Button","Modal","ModalHeader","ModalBody","ModalFooter","Row","Col","Input","Form","FormText","CustomInput","Card","CardImg","CardText","CardBody","CardTitle","CardSubtitle","CardDeck","FormGroup","Label","Table","ReactFileReader","Cookies","Router","divStyle","color","eventListHost","props","context","files","reader","FileReader","result","onload","e","split","alert","setState","state","visitorEmails","readAsText","modal","dropEventModal","addHostModal","current_pairing","eventList","current_event","name","start_time","end_time","description","hosting_organization","expected_number_visitors","event_id","addHostToggle","bind","addHost","editEvent","handleFiles","dropEventToggle","dropEvent","filterEvents","console","log","eventInfo","document","forms","value","method","headers","body","res","editModalToggle","event","val","target","json","data","JSON","parse","prevState","pairing_id","genderVal","same_gender","pairingInfo","netid","String","get","events","i","length","push","className","event_name","host_first_name","host_last_name","host_room_num","host_cellphone","max_visitors","descriptions","end_dates","end_times","hosting_organizations","locations","names","number_of_hosts","start_dates","start_times","Component"],"mappings":"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","sourcesContent":["import './bootstrap.css';\nimport React from 'react'\nimport Link from 'next/link'\nimport Head from '../components/head'\nimport HostNav from '../components/hostNav'\nimport fetch from 'isomorphic-unfetch'\nimport { Button, Modal, ModalHeader, ModalBody, ModalFooter, Row, Col, Input, Form, FormText, CustomInput } from 'reactstrap';\nimport { Card, CardImg, CardText, CardBody, CardTitle, CardSubtitle, CardDeck, FormGroup, Label, Table} from 'reactstrap';\nimport ReactFileReader from 'react-file-reader';\nimport Cookies from 'js-cookie';\n\nimport Router from 'next/router'\n\n\nvar divStyle = {\n  color: 'white'\n  //color: 'dodgerblue'\n};\n\nclass eventListHost extends React.Component {\n  constructor(props, context){\n    super(props, context);\n    this.state = {\n      modal: false,\n      dropEventModal: false,\n      addHostModal: false,\n      visitorEmails: [],\n      current_pairing: -1,\n      eventList: [],\n      current_event: { \n        name:\"\",\n        start_time:\"\",\n        end_time:\"\",\n        description:\"\",\n        hosting_organization:\"\",\n        expected_number_visitors:\"\",\n        event_id:\"\"\n       }\n    };\n    this.addHostToggle = this.addHostToggle.bind(this);\n    this.addHost = this.addHost.bind(this);\n    this.editEvent = this.editEvent.bind(this);\n    this.handleFiles = this.handleFiles.bind(this);\n    this.dropEventToggle = this.dropEventToggle.bind(this);\n    this.dropEvent = this.dropEvent.bind(this);\n    this.filterEvents = this.filterEvents.bind(this);\n  }\n  async editEvent(){\n    console.log(this.state.visitorEmails)\n    \n    let eventInfo = {\n      \"name\": document.forms[\"eventEditForm\"][\"eventname\"].value,\n      \"start_time\": document.forms[\"eventEditForm\"][\"starttime\"].value,\n      \"start_date\": document.forms[\"eventEditForm\"][\"startdate\"].value,\n      \"end_time\": document.forms[\"eventEditForm\"][\"endtime\"].value,\n      \"end_date\": document.forms[\"eventEditForm\"][\"enddate\"].value,\n      \"description\": document.forms[\"eventEditForm\"][\"description\"].value,\n      \"location\": document.forms[\"eventEditForm\"][\"location\"].value,\n      \"expected_number_visitors\": parseInt(document.forms[\"eventEditForm\"][\"expectednum\"].value),\n      \"number_of_hosts\": 0,\n      \"hosts\": \"\",\n      \"hosting_organization\": document.forms[\"eventEditForm\"][\"hostingorg\"].value,\n      \"organizer_id\": 1,};\n\n    const res = await fetch('http://localhost:5000/event/update/' + this.state.current_event.event_id, {\n        method: \"POST\",\n        headers: {\n            'Accept': 'application/json',\n            \"Content-Type\": \"application/json\"\n        }, \n        body: JSON.stringify(eventInfo)\n    });\n\n    this.editModalToggle();\n\n\n  }\n  async dropEventToggle(event) {\n\n    //this.setState(state => ({ visitorEmails: \"\"}));\n    //this.setState(state => ({ current_event: event.target.value}));\n    if (!this.state.dropEventModal)\n    {\n      let val = event.target.value;\n    \n      const res = await fetch('http://localhost:5000/pairing/' + val, {\n           method: \"GET\",\n           headers: {\n               \"Content-Type\": \"text/plain\",                \n               \"Access-Control-Allow-Origin\": \"*\"\n        }})\n      var data = await res.json()\n      data = JSON.stringify(data)\n      data = JSON.parse(data)\n      this.setState(state => ({ current_pairing: data}));\n    }\n\n      //console.log(data);\n\n    \n    this.setState(prevState => ({\n      dropEventModal: !prevState.dropEventModal\n    }));\n    \n\n\n  }\n  async addHostToggle(event) {\n\n    this.setState(state => ({ visitorEmails: \"\"}));\n    //this.setState(state => ({ current_event: event.target.value}));\n    if (!this.state.addHostModal)\n    {\n      let val = event.target.value;\n    \n      const res = await fetch('http://localhost:5000/pairing/' + val, {\n           method: \"GET\",\n           headers: {\n               \"Content-Type\": \"text/plain\",                \n               \"Access-Control-Allow-Origin\": \"*\"\n        }})\n      var data = await res.json()\n      data = JSON.stringify(data)\n      data = JSON.parse(data)\n      this.setState(state => ({ current_pairing: data}));\n    }\n\n      //console.log(data);\n\n    \n    this.setState(prevState => ({\n      addHostModal: !prevState.addHostModal\n    }));\n    \n\n\n  }\n  async dropEvent(){\n\n     const res = await fetch('http://localhost:5000/pairing/delete/' + this.state.current_pairing.pairing_id, {\n        method: \"DELETE\",\n        headers: {\n            'Accept': 'application/json',\n            \"Content-Type\": \"application/json\"\n        }\n    });\n\n     this.dropEventToggle();\n  }\n  async addHost(){\n    //let name = document.forms[\"eventCreateForm\"][\"eventname\"].value;\n    //console.log(name)\n    let genderVal = document.forms[\"hostSignupForm\"][\"radio1\"].value;\n    let same_gender = genderVal === \"Yes\" ? true : false;\n    //console.log(this.state.visitorEmails)\n    let pairingInfo = {\n      \"host_first_name\": document.forms[\"hostSignupForm\"][\"firstname\"].value,\n      \"host_last_name\": document.forms[\"hostSignupForm\"][\"lastname\"].value,\n      \"host_gender\": document.forms[\"hostSignupForm\"][\"radio2\"].value,\n      \"same_gender_room\": same_gender,\n      \"host_room_num\": document.forms[\"hostSignupForm\"][\"roomnum\"].value,\n      \"max_visitors\": document.forms[\"hostSignupForm\"][\"maxvisitors\"].value,\n      \"host_cellphone\": document.forms[\"hostSignupForm\"][\"cellnum\"].value,\n      \"event_id\": this.state.current_event.event_id\n      };\n\n    const res = await fetch('http://localhost:5000/pairing/update/' + this.state.current_pairing.pairing_id, {\n        method: \"POST\",\n        headers: {\n            'Accept': 'application/json',\n            \"Content-Type\": \"application/json\"\n        }, \n        body: JSON.stringify(pairingInfo)\n    });\n\n\n    this.addHostToggle();\n  }\n  handleFiles = files => {\n    var reader = new FileReader();\n    var result = [];\n    reader.onload = function(e) {\n    // Use reader.result\n    result = reader.result.split(\",\")\n    \n    alert(result[0])\n    }\n    this.setState(state => ({ visitorEmails: result}));\n  reader.readAsText(files[0]);\n}\n  toggle() {\n    this.setState(prevState => ({\n      modal: !prevState.modal\n    }));\n    if (!this.state.modal)\n      this.setState(state => ({ visitorEmails: \"\"}));\n  }\n  async filterEvents()\n  {\n    var netid = String(Cookies.get('netid'));\n\n    const res = await fetch('http://localhost:5000/pairing/events_for_host/' + netid, {\n            method: \"GET\",\n            headers: {\n                \"Content-Type\": \"text/plain\",\n                \"Access-Control-Allow-Origin\": \"*\"\n            }})\n      var data = await res.json()\n      data = JSON.stringify(data)\n\n     data = JSON.parse(data)\n\n     let events = []\n\n     for (let i = 0; i < data.length; i++)\n     {\n      /*descriptions.push(data[i]['description']);\n      end_dates.push(data[i]['end_dates'])\n      end_times.push(data[i]['end_times'])\n      expected_number_visitors.push(data[i]['expected_number_visitors'])\n      hosting_organizations.push(data[i]['hosting_organizations'])\n      locations.push(data[i]['locations'])\n      names.push(data[i]['names'])\n      number_of_hosts.push(data[i]['number_of_hosts'])\n      start_dates.push(data[i]['start_date'])\n      start_times.push(data[i]['start_time'])*/\n      events.push(JSON.stringify(data[i]))\n     }\n\n     //console.log(events)\n\n     this.setState({\n        eventList: events\n      });\n  }\n  static async getInitialProps(){\n        //const netid = Cookies.get('netid')\n        /*const res = await fetch('http://localhost:5000/pairing/events_for_host/' + netid, {\n            method: \"GET\",\n            headers: {\n                \"Content-Type\": \"text/plain\",\n                \"Access-Control-Allow-Origin\": \"*\"\n            }})\n      var data = await res.json()\n      data = JSON.stringify(data)\n\n     data = JSON.parse(data) */\n     //console.log(data)\n\n     let descriptions = []\n     let end_dates = []\n     let end_times = []\n     let expected_number_visitors = []\n     let hosting_organizations = []\n     let locations = []\n     let names = []\n     let number_of_hosts = []\n     let start_dates = []\n     let start_times = []\n     let events = []\n\n     \n     return {\n      descriptions: descriptions,\n      end_dates: end_dates,\n      end_times: end_times,\n      expected_number_visitors: expected_number_visitors, \n      hosting_organizations: hosting_organizations, \n      locations: locations, \n      names: names,\n      number_of_hosts: number_of_hosts,\n      start_dates: start_dates,\n      start_times: start_times,\n      events:events\n     }\n\n      /*return {\n        description: data['description'], \n        end_date: data['end_date'],\n        end_time: data['end_time'],\n        expected_number_visitors: data['expected_number_visitors'],\n        hosting_organization: data['hosting_organization'],\n        location: data['location'],\n        name: data['name'],\n        number_of_hosts: data['number_of_hosts'],\n        start_date: data['start_date'],\n        start_time: data['start_time']\n      } */\n\n\n  }\n  render(props){ \n\n    /*this.setState({\n        eventList: this.filterEvents()\n      }); */\n      //this.filterEvents();\n    return(\n  <div>\n  <Head title=\"Host Events\" />\n    <HostNav />\n    \n    <div className=\"hero\">\n      <center> <h2 style={divStyle}> Your Events</h2> </center>\n      <br />\n\n      {this.filterEvents()}\n\n      <Modal key=\"1\" isOpen={this.state.addHostModal} toggle={this.addHostToggle} className={this.props.className}>\n          <ModalHeader toggle={this.addHostToggle}> <p className=\"text-primary\"> Edit Information for {this.state.current_pairing.event_name} </p> </ModalHeader>\n          <ModalBody>\n          <Form id=\"hostSignupForm\">\n          <Row>\n          <Col>\n          First Name\n          </Col>\n          <Col>\n          <Input type=\"text\" name=\"firstname\" id=\"firstname\" defaultValue={this.state.current_pairing.host_first_name}/ >  \n          </Col>\n          </Row>\n          <br />\n          <Row>\n          <Col>\n          Last Name\n          </Col>\n          <Col>\n          <Input type=\"text\" name=\"lastname\" id=\"lastname\" defaultValue={this.state.current_pairing.host_last_name}/>  \n          </Col>\n          </Row>\n          <br />\n          <Row>\n          <Col>\n          Room Number \n          </Col>\n          <Col>\n          <Input type=\"text\" name=\"roomnum\" id=\"roomnum\" defaultValue={this.state.current_pairing.host_room_num}/>\n          </Col>\n          </Row>\n          <br />\n          <Row>\n          <Col>\n          Cellphone Number: \n          </Col>\n          <Col>\n          <Input type=\"text\" name=\"cellnum\" id=\"cellnum\" defaultValue={this.state.current_pairing.host_cellphone}/>\n          </Col>\n          </Row>\n          <br />\n          <Row>\n          <Col>\n          Max Number of Visitors: \n          </Col>\n          <Col>\n          <Input type=\"text\" name=\"maxvisitors\" id=\"maxvisitors\" defaultValue={this.state.current_pairing.max_visitors}/>\n          </Col>\n          </Row>\n          <br />\n          <Row>\n          <Col> Gender </Col>\n          <Col> \n          <FormGroup check>\n              <Label check>\n                <Input type=\"radio\" name=\"radio2\" id=\"radio2\" value=\"Male\"/>{' '}\n                Male\n              </Label>\n            </FormGroup>\n            <FormGroup check>\n              <Label check>\n                <Input type=\"radio\" name=\"radio2\" id=\"radio2\" value=\"Female\"/>{' '}\n                Female\n              </Label>\n            </FormGroup>\n           </Col>\n          </Row>\n          <br />\n          <Row>\n          <Col> Opposite Gender Visitors</Col>\n          <Col>\n          <FormGroup check>\n              <Label check>\n                <Input type=\"radio\" name=\"radio1\" id=\"radio1\" value=\"yes\"/>{' '}\n                Yes\n              </Label>\n            </FormGroup>\n            <FormGroup check>\n              <Label check>\n                <Input type=\"radio\" name=\"radio1\" id=\"radio1\" value=\"no\"/>{' '}\n                No\n              </Label>\n            </FormGroup>\n          </Col>\n          </Row>\n          <br />\n          </Form>  \n          </ModalBody>\n          <ModalFooter>\n            <Button color=\"primary\" onClick={this.addHost}> Update Info </Button>{' '}\n            <Button color=\"secondary\" onClick={this.addHostToggle}>Cancel</Button>\n          </ModalFooter>\n      </Modal>\n\n       <Modal key=\"2\" isOpen={this.state.dropEventModal} toggle={this.dropEventToggle} className={this.props.className}>\n          <ModalHeader toggle={this.dropEventToggle}> <p className=\"text-danger\"> Drop {this.state.current_pairing.event_name} </p> </ModalHeader>\n          <ModalBody>\n\n          Are you sure you want to drop out of this event?\n\n          </ModalBody>\n\n          <ModalFooter>\n            <Button color=\"danger\" onClick={this.dropEvent}> Drop Event</Button>{' '}\n            <Button color=\"secondary\" onClick={this.dropEventToggle}>Cancel</Button>\n          </ModalFooter>\n        </Modal>\n\n      {/*<CardDeck>\n        {this.props.events.map((value, index) => {\n          let jsonVal = JSON.parse(value)\n          return <div key={index}> \n                 <Card>\n                 <p key=\"0\"> Event Id: {jsonVal['event_id']} </p> \n                 <p key=\"1\"> Your gender: {jsonVal['host_gender']} </p>\n                 <p key=\"2\"> Same Gender Room: {String(jsonVal['same_gender_room'])} </p>\n                 <p key=\"3\"> Maximum Visitors: {jsonVal['max_visitors']} </p>\n                 <p key=\"4\"> First Name: {jsonVal['host_first_name']} </p>\n                 <p key=\"5\"> Last Name: {jsonVal['host_last_name']} </p>  \n                 <p key=\"6\"> Cellphone: {jsonVal['host_cellphone']} </p>    \n                 <br />         \n                  <Button key=\"8\" value={jsonVal['event_id']} onClick={this.addHostToggle}> Edit Information </Button> \n                 <Button color=\"danger\" key=\"9\" value={jsonVal['event_id']} onClick={this.dropEvent}> Drop Event </Button>\n                 \n                 </Card> \n                 </div>\n  \n        })}\n        </CardDeck> */}\n        {/* <Table dark>\n         <tbody>\n         \n         {this.state.eventList.map((value, index) => {\n          //console.log(\"value\" + value);\n          let jsonVal = JSON.parse(value)\n          //let jsonVal = value;\n          let tableHead = \"\";\n          if (index == 0)\n          {\n            tableHead = \"<thead> <tr> <th> Name </th> <th> your gender </th>\"\n          }\n          return <div>\n                 <tr key={index}>\n                 <th key=\"0\"> Event Name: {jsonVal['event_name']} </th> \n                 <th key=\"1\"> Your gender: {jsonVal['host_gender']} </th>\n                 <th key=\"2\"> Same Gender Room: {(jsonVal['same_gender_room'])} </th>\n                 <th key=\"3\"> Maximum Visitors: {jsonVal['max_visitors']} </th>\n                 <th key=\"4\"> First Name: {jsonVal['host_first_name']} </th>\n                 <th key=\"5\"> Last Name: {jsonVal['host_last_name']} </th>  \n                 <th key=\"6\"> Cellphone: {jsonVal['host_cellphone']} </th>    \n                 <br />         \n                  <th> <Button color=\"light\" key=\"8\" value={jsonVal['pairing_id']} onClick={this.addHostToggle}> Edit Information </Button> </th>\n                 <th> <Button color=\"danger\" key=\"9\" value={jsonVal['pairing_id']} onClick={this.dropEventToggle}> Drop Event </Button> </th>\n                 \n                 </tr> \n                 </div>\n                 \n  \n        })} \n         </tbody>\n         </Table> */}\n    </div>\n<style jsx>{`\n      .hero {\n        width: 100%;\n        color: #333;\n      }\n      .title {\n        margin: 0;\n        width: 100%;\n        padding-top: 80px;\n        line-height: 1.15;\n        font-size: 48px;\n      }\n      .title,\n      .description {\n        text-align: center;\n      }\n      .row {\n        max-width: 880px;\n        margin: 80px auto 40px;\n        display: flex;\n        flex-direction: row;\n        justify-content: space-around;\n      }\n      .card {\n        padding: 30px 30px 30px;\n        width: 300px;\n        text-align: left;\n        text-decoration: none;\n        color: #434343;\n        border: 1px solid #9b9b9b;\n      }\n      .card:hover {\n        border-color: #067df7;\n      }\n      .card h3 {\n        margin: 0;\n        color: #067df7;\n        font-size: 18px;\n      }\n      .card p {\n        margin: 0;\n        padding: 12px 0 0;\n        font-size: 13px;\n        color: #333;\n      }\n    `}</style>\n  </div>\n\n)}\n}\n\nexport default eventListHost\n"]},"metadata":{},"sourceType":"module"}