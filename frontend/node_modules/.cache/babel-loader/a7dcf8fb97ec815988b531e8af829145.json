{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime-corejs2/regenerator\";\nimport _JSON$stringify from \"@babel/runtime-corejs2/core-js/json/stringify\";\nimport _asyncToGenerator from \"@babel/runtime-corejs2/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"@babel/runtime-corejs2/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime-corejs2/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime-corejs2/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime-corejs2/helpers/esm/getPrototypeOf\";\nimport _assertThisInitialized from \"@babel/runtime-corejs2/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime-corejs2/helpers/esm/inherits\";\nimport _JSXStyle from \"styled-jsx/style\";\nimport React from 'react';\nimport Link from 'next/link';\nimport Head from '../components/head';\nimport Nav from '../components/nav';\nimport fetch from 'isomorphic-unfetch';\nimport Router from 'next/router';\nimport { Button, Container, Row, Col, CustomInput, Form, FormFeedback, FormGroup, FormControl, Label, Input, FormText } from 'reactstrap';\nimport PropTypes from 'prop-types';\n\nvar eventOrganizerRegister =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(eventOrganizerRegister, _React$Component);\n\n  function eventOrganizerRegister(props, context) {\n    var _this;\n\n    _classCallCheck(this, eventOrganizerRegister);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(eventOrganizerRegister).call(this, props, context));\n    _this.state = {\n      mismatchPassword: false,\n      wrongRegCode: false\n    };\n    _this.addOrganizer = _this.addOrganizer.bind(_assertThisInitialized(_this));\n    return _this;\n  }\n\n  _createClass(eventOrganizerRegister, [{\n    key: \"addOrganizer\",\n    value: function () {\n      var _addOrganizer = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee() {\n        var emailInput, passwordInput1, passwordInput2, firstnameInput, lastnameInput, registrationCode, netid, res, data, trueRegCode, organizer_info, _res;\n\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                //console.log(document.forms[\"registerForm\"][\"netid\"].value);\n                emailInput = document.forms[\"registerForm\"][\"email\"].value;\n                passwordInput1 = document.forms[\"registerForm\"][\"password1\"].value;\n                passwordInput2 = document.forms[\"registerForm\"][\"password2\"].value;\n                firstnameInput = document.forms[\"registerForm\"][\"firstname\"].value;\n                lastnameInput = document.forms[\"registerForm\"][\"lastname\"].value;\n                registrationCode = document.forms[\"registerForm\"][\"regcode\"].value;\n                netid = document.forms[\"registerForm\"][\"netid\"].value; //\n\n                _context.next = 9;\n                return fetch(\"http://localhost:5000/getRegCode\", {\n                  method: \"GET\",\n                  headers: {\n                    \"Content-Type\": \"text/plain\",\n                    \"Access-Control-Allow-Origin\": \"*\"\n                  }\n                });\n\n              case 9:\n                res = _context.sent;\n                _context.next = 12;\n                return res.json();\n\n              case 12:\n                data = _context.sent;\n                data = _JSON$stringify(data);\n                data = JSON.parse(data);\n                trueRegCode = data['regCode'];\n\n                if (!(passwordInput1 !== passwordInput2)) {\n                  _context.next = 20;\n                  break;\n                }\n\n                this.setState(function (state) {\n                  return {\n                    mismatchPassword: true\n                  };\n                });\n                _context.next = 29;\n                break;\n\n              case 20:\n                if (!(registrationCode !== trueRegCode)) {\n                  _context.next = 24;\n                  break;\n                }\n\n                this.setState(function (state) {\n                  return {\n                    wrongRegCode: true\n                  };\n                });\n                _context.next = 29;\n                break;\n\n              case 24:\n                organizer_info = {\n                  \"firstname\": firstnameInput,\n                  \"lastname\": lastnameInput,\n                  \"password\": passwordInput1,\n                  \"campus_organizations\": \"\",\n                  \"netid\": netid,\n                  \"email\": emailInput\n                };\n                _context.next = 27;\n                return fetch('http://localhost:5000/event_organizer', {\n                  method: \"POST\",\n                  headers: {\n                    'Accept': 'application/json',\n                    \"Content-Type\": \"application/json\"\n                  },\n                  body: _JSON$stringify(organizer_info)\n                });\n\n              case 27:\n                _res = _context.sent;\n                Router.push(\"/eventOrganizerLogin\");\n\n              case 29:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function addOrganizer() {\n        return _addOrganizer.apply(this, arguments);\n      }\n\n      return addOrganizer;\n    }()\n  }, {\n    key: \"render\",\n    value: function render(props) {\n      return React.createElement(\"div\", {\n        className: \"jsx-1937882681\"\n      }, React.createElement(Head, {\n        title: \"Event Organizer Registration\"\n      }), React.createElement(Nav, null), React.createElement(\"div\", {\n        className: \"jsx-1937882681\" + \" \" + \"hero\"\n      }, React.createElement(\"div\", {\n        className: \"jsx-1937882681\" + \" \" + \"center\"\n      }, React.createElement(\"center\", {\n        className: \"jsx-1937882681\"\n      }, \" \", React.createElement(\"h2\", {\n        className: \"jsx-1937882681\"\n      }, \" Event Organizer Registration \"), \" \"), React.createElement(\"br\", {\n        className: \"jsx-1937882681\"\n      }), React.createElement(\"center\", {\n        className: \"jsx-1937882681\"\n      }, \" Enter in the following information to create your account! \"), React.createElement(\"br\", {\n        className: \"jsx-1937882681\"\n      }), React.createElement(Form, {\n        id: \"registerForm\"\n      }, React.createElement(Row, null, React.createElement(Col, null, \"First Name\"), React.createElement(Col, null, React.createElement(Input, {\n        type: \"text\",\n        name: \"firstname\",\n        id: \"firstname\"\n      })), React.createElement(Col, null, \"Last Name\"), React.createElement(Col, null, React.createElement(Input, {\n        type: \"text\",\n        name: \"lastname\",\n        id: \"lastname\"\n      }))), React.createElement(\"br\", {\n        className: \"jsx-1937882681\"\n      }), React.createElement(Row, null, React.createElement(Col, null, \"Email\"), React.createElement(Col, null, React.createElement(Input, {\n        type: \"text\",\n        name: \"email\",\n        id: \"email\"\n      })), React.createElement(Col, null, \"Password\"), React.createElement(Col, null, React.createElement(Input, {\n        type: \"password\",\n        name: \"password1\",\n        id: \"password1\"\n      }))), React.createElement(\"br\", {\n        className: \"jsx-1937882681\"\n      }), React.createElement(Row, null, React.createElement(Col, null, \"Re-Enter Password\"), React.createElement(Col, null, React.createElement(Input, {\n        type: \"password\",\n        name: \"password2\",\n        id: \"password2\"\n      })), React.createElement(Col, null, \"Registration Code\"), React.createElement(Col, null, React.createElement(Input, {\n        type: \"password\",\n        name: \"regcode\",\n        id: \"regcode\"\n      }))), React.createElement(\"br\", {\n        className: \"jsx-1937882681\"\n      }), React.createElement(Row, null, React.createElement(Col, null, \"NetID:\"), React.createElement(Col, null, React.createElement(Input, {\n        type: \"text\",\n        name: \"netid\",\n        id: \"netid\"\n      })), React.createElement(Col, null), React.createElement(Col, null)), React.createElement(\"br\", {\n        className: \"jsx-1937882681\"\n      }), React.createElement(\"center\", {\n        className: \"jsx-1937882681\"\n      }, \" \", React.createElement(Button, {\n        onClick: this.addOrganizer\n      }, \" Sign Up \"), \" \"), React.createElement(\"br\", {\n        className: \"jsx-1937882681\"\n      }), this.state.mismatchPassword ? React.createElement(\"center\", {\n        className: \"jsx-1937882681\"\n      }, \" \", React.createElement(\"p\", {\n        className: \"jsx-1937882681\"\n      }, \"Passwords do not match!\"), \" \") : null, this.state.wrongRegCode ? React.createElement(\"center\", {\n        className: \"jsx-1937882681\"\n      }, \" \", React.createElement(\"p\", {\n        className: \"jsx-1937882681\"\n      }, \"Wrong registration code! Please contact Niranjan Shankar (nshankar@princeton.edu) or Michelle Yuen (mjyeun@princeton.edu) for the correct registration code.\"), \" \") : null), React.createElement(\"br\", {\n        className: \"jsx-1937882681\"\n      }))), React.createElement(_JSXStyle, {\n        id: \"1937882681\"\n      }, [\".hero.jsx-1937882681{width:100%;color:#333;}\", \".title.jsx-1937882681{margin:0;width:100%;padding-top:80px;line-height:1.15;font-size:48px;}\", \".title.jsx-1937882681,.description.jsx-1937882681{text-align:center;}\", \".row.jsx-1937882681{max-width:880px;margin:20px auto 20px;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-box-pack:space-around;-webkit-justify-content:space-around;-ms-flex-pack:space-around;justify-content:space-around;}\", \".card.jsx-1937882681{padding:18px 18px 24px;width:220px;text-align:left;-webkit-text-decoration:none;text-decoration:none;color:#434343;border:1px solid #9b9b9b;}\", \".card.jsx-1937882681:hover{border-color:#067df7;}\", \".card.jsx-1937882681 h3.jsx-1937882681{margin:0;color:#067df7;font-size:18px;}\", \".card.jsx-1937882681 p.jsx-1937882681{margin:0;padding:12px 0 0;font-size:13px;color:#333;}\", \".center.jsx-1937882681{margin:0;position:absolute;top:50%;left:50%;-ms-transform:translate(-50%,-50%);-webkit-transform:translate(-50%,-50%);-ms-transform:translate(-50%,-50%);transform:translate(-50%,-50%);}\"]));\n    }\n  }]);\n\n  return eventOrganizerRegister;\n}(React.Component);\n\nexport default eventOrganizerRegister;","map":null,"metadata":{},"sourceType":"module"}